(this["webpackJsonpmachine-music"]=this["webpackJsonpmachine-music"]||[]).push([[0],{101:function(e,a){},102:function(e,a){},103:function(e,a){},104:function(e,a){},105:function(e,a){},106:function(e,a){},108:function(e,a,t){},110:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(9),l=t.n(c),o=(t(69),t(31)),i=(t(70),t(71),t(145)),u=t(137),s=t(138);function m(){return r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement("div",{className:"title"},r.a.createElement(s.a,{variant:"h1",component:"h1"},"Machine Music")),r.a.createElement("div",{className:"subtitle"},r.a.createElement(s.a,{variant:"h4",component:"h4"},"Procedurally generated music, powered by machine learning"))))}var p=t(147),h=t(139);function f(e){return r.a.createElement("div",null,r.a.createElement(u.a,{square:!0},r.a.createElement(p.a,{value:e.view,indicatorColor:"primary",textColor:"primary",onChange:function(a,t){e.updateView(t)},"aria-label":"nav tabs",centered:!0},r.a.createElement(h.a,{label:"Generate"}),r.a.createElement(h.a,{label:"Train",disabled:!0}),r.a.createElement(h.a,{label:"About",disabled:!0}))))}var E=t(142),v=t(149),d=t(146),b=t(148),w=t(143),y=t(46),g=t.n(y),N=t(77),j=new N.Player,P=new N.MusicRNN("https://storage.googleapis.com/magentadata/js/checkpoints/music_rnn/melody_rnn"),S=[],O=[],k=1,C=1;function q(e){e(!0);var a=x(),t=x(),n=x();Promise.all([a,t,n]).then((function(a){g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:S.push(a[0],a[1],a[0],a[1]),S.push(a[0],a[2],a[0],a[2]),S.push(a[0],a[1],a[0],a[1]),S.push(a[0],a[2],a[0],a[2]),e(!1);case 5:case"end":return t.stop()}})).then((function(){console.log(S),j.start(S[0]).then((function(){!function e(a){1===k&&(1===a&&z(2),j.start(S[a]).then((function(){(C=(a+1)%16)%16===1?(k=2,e(C)):e(C)})));2===k&&(1===a&&z(1),j.start(O[a]).then((function(){(C=(a+1)%16)%16===1?(k=1,e(C)):e(C)})))}(C)}))}))}))}function x(){var e={quantizationInfo:{stepsPerQuarter:4},notes:[],totalQuantizedSteps:1};return new Promise((function(a,t){try{P.continueSequence(e,31,.9).then((function(t){t.notes.forEach((function(a){a.quantizedStartStep+=1,a.quantizedEndStep+=1,e.notes.push(a)})),a(e)}))}catch(n){t(console.log("Creation of melody failed."))}}))}function z(e){if(2===e){O=[];var a=x(),t=x(),n=x();Promise.all([a,t,n]).then((function(e){O.push(e[0],e[1],e[0],e[1]),O.push(e[0],e[2],e[0],e[2]),O.push(e[0],e[1],e[0],e[1]),O.push(e[0],e[2],e[0],e[2]),console.log(O)}))}if(1===e){S=[];var r=x(),c=x(),l=x();Promise.all([r,c,l]).then((function(e){S.push(e[0],e[1],e[0],e[1]),S.push(e[0],e[2],e[0],e[2]),S.push(e[0],e[1],e[0],e[1]),S.push(e[0],e[2],e[0],e[2])}))}}t(108);var A=t(140),M=t(55),T=t.n(M);var B=function(){return r.a.createElement(A.a,{color:"primary","aria-label":"play"},r.a.createElement(T.a,null))},W=t(56),G=t.n(W);var I=function(){return r.a.createElement(A.a,{color:"primary","aria-label":"pause"},r.a.createElement(G.a,null))};var J=function(e){return!1===e.state?r.a.createElement(B,null):r.a.createElement(I,null)},Q=t(141);function R(e){return!0===e.loading?r.a.createElement(Q.a,{color:"primary"}):null}function V(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(140),i=Object(o.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(!1),h=Object(o.a)(p,2),f=h[0],w=h[1];return r.a.createElement("div",null,r.a.createElement(s.a,{variant:"h1",component:"h1"},"Generate"),r.a.createElement(E.a,null,r.a.createElement(v.a,null,"Tempo"),r.a.createElement(d.a,{value:u,onChange:function(e){m(e.target.value),function(e){j.setTempo(e)}(u)},inputProps:{tempo:"tempo"}},r.a.createElement(b.a,{value:60},"60"),r.a.createElement(b.a,{value:80},"80"),r.a.createElement(b.a,{value:100},"100"),r.a.createElement(b.a,{value:120},"120"))),r.a.createElement("div",{className:"play-controller-wrapper",onClick:function(){!0===f&&(w(!1),j.pause()),!1===f&&(w(!0),!1===j.isPlaying()&&q(c),j.resume())}},r.a.createElement(J,{state:f})),r.a.createElement(R,{loading:t}))}function _(){return r.a.createElement(s.a,{variant:"h1",component:"h1"},"Train")}function F(){return r.a.createElement("div",{className:"main"},r.a.createElement(w.a,{maxWidth:"sm"},r.a.createElement(u.a,{className:"About",elevation:"5"},r.a.createElement(s.a,{variant:"h5",component:"h5"},"Machine music was made by Andrew Richardson as a sumbission for my final year project."))))}function H(e){switch(e.view){case 0:return r.a.createElement(V,null);case 1:return r.a.createElement(_,null);case 2:return r.a.createElement(F,null);default:return r.a.createElement(V,null)}}var $=function(){var e=Object(n.useState)(0),a=Object(o.a)(e,2),t=a[0],c=a[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Header"},r.a.createElement(m,null)),r.a.createElement("div",{className:"Body"},r.a.createElement(f,{view:t,updateView:c}),r.a.createElement(H,{view:t})),r.a.createElement("div",{className:"Footer"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},64:function(e,a,t){e.exports=t(110)},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){}},[[64,1,2]]]);
//# sourceMappingURL=main.803eb49e.chunk.js.map